---
layout: post
title: Morse codes and Arduino
date: '2012-02-07T18:06:00.000+01:00'
author: Kenneth Geisshirt
tags:
- Morse code
- Arduino
modified_time: '2012-02-11T16:42:13.659+01:00'
thumbnail: http://i.ytimg.com/vi/KBK3YLvwbwg/0.jpg
blogger_id: tag:blogger.com,1999:blog-1193313609357285189.post-1780297549843176993
blogger_orig_url: https://kenneth.geisshirt.dk/2012/02/morse-codes-and-arduino.html
---

My son <a href="http://www.supersejemig.dk/">Svante</a> came home Friday and told me that he had been working on Morse codes in science class. We talked a bit on how to translate sentences to Morse code. Yesterday evening I had to construct a translator using my <a href="http://www.arduino.cc/">Arduino</a> board, a LED and a LCD display. The program is pretty simple. It processes the message - letter by letter - and shows the current letter in capital and the Morse code on the second line. Moreover, it blinks the Morse code using the LED. You find my program below.<br /><br /><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br /></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;">#include &lt;stdio.h&gt;<br />#include &lt;stdlib.h&gt;<br />#include &lt;LiquidCrystal.h&gt;<br /><br />int LED&nbsp; = 9;<br />LiquidCrystal lcd(10, 11, 12, 13, 14, 15, 16);<br />char msg[] = "super seje mig";<br />char m[16];<br />char *morse[] = {<br />&nbsp; "*-",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // A<br />&nbsp; "-***",&nbsp;&nbsp;&nbsp;&nbsp; // B<br />&nbsp; "-*-*",&nbsp;&nbsp;&nbsp;&nbsp; // C <br />&nbsp; "*--",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // D<br />&nbsp; "*",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // E<br />&nbsp; "**-*",&nbsp;&nbsp;&nbsp;&nbsp; // F<br />&nbsp; "--*",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // G<br />&nbsp; "****",&nbsp;&nbsp;&nbsp;&nbsp; // H<br />&nbsp; "**",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // I<br />&nbsp; "*---",&nbsp;&nbsp;&nbsp;&nbsp; // J<br />&nbsp; "-*-",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // K<br />&nbsp; "*-**",&nbsp;&nbsp;&nbsp;&nbsp; // L<br />&nbsp; "--",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // M<br />&nbsp; "-*",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // N<br />&nbsp; "---",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // O<br />&nbsp; "*--*",&nbsp;&nbsp;&nbsp;&nbsp; // P<br />&nbsp; "--*-",&nbsp;&nbsp;&nbsp;&nbsp; // Q<br />&nbsp; "*-*",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // R<br />&nbsp; "***",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // S<br />&nbsp; "-",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // T<br />&nbsp; "**-",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // U<br />&nbsp; "***-",&nbsp;&nbsp;&nbsp;&nbsp; // V<br />&nbsp; "*--",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // W<br />&nbsp; "-**-",&nbsp;&nbsp;&nbsp;&nbsp; // X<br />&nbsp; "-*--",&nbsp;&nbsp;&nbsp;&nbsp; // Y<br />&nbsp; "--**"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Z<br />};<br />void setup() {<br />&nbsp; lcd.begin(16, 2);<br />&nbsp; lcd.clear();<br />&nbsp; lcd.setCursor(0, 0);<br />&nbsp; lcd.print("Booting");<br />&nbsp; for(int i=0; i&lt;16; i++) {<br />&nbsp;&nbsp;&nbsp; lcd.setCursor(i, 1);<br />&nbsp;&nbsp;&nbsp; lcd.write('.');<br />&nbsp;&nbsp;&nbsp; delay(100);<br />&nbsp; } <br />&nbsp; lcd.clear(); <br />&nbsp; lcd.setCursor(0, 0);<br />&nbsp; lcd.print("K. Geisshirt");<br />&nbsp; lcd.setCursor(0, 1);<br />&nbsp; lcd.print("Copyright 2012");<br />&nbsp; delay(1000);<br />&nbsp; pinMode(LED, OUTPUT);<br />}</div><span style="font-family: 'Courier New', Courier, monospace;">void loop() {</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp; for(int i=0; i&lt;strlen(msg); i++) {</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; for(int j=0; j&lt;strlen(msg); j++) m[j] = msg[j];</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; m[strlen(msg)] ='\0'; </span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; if (m[i] != ' ') m[i] = m[i]+('A'-'a'); </span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; lcd.clear();</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; lcd.setCursor(0, 0);</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; lcd.print(m);</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; lcd.setCursor(0, 1);</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; if (m[i] != ' ') {</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lcd.print(morse[m[i]-'A']);</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int j=0; j&lt;strlen(morse[m[i]-'A']); j++) {</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; digitalWrite(LED, HIGH);</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (morse[m[i]-'A'][j] == '*') {</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delay(500);</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delay(1000);</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; digitalWrite(LED, LOW);</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delay(250);</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; if (m[i] != ' ') {&nbsp;&nbsp; </span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delay(1000);</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; } else {</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delay(100);</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="font-family: 'Courier New', Courier, monospace;">&nbsp; }</span><br /><span style="font-family: 'Courier New', Courier, monospace;">}</span><br /><br />If you haven't tried an Arduino board, it is highly recommended. With an electronic brick and a few components, it is much like LEGO for adults.<br /><div class="separator" style="clear: both; text-align: center;"><object width="320" height="266" class="BLOGGER-youtube-video" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" data-thumbnail-src="http://i.ytimg.com/vi/KBK3YLvwbwg/0.jpg"><param name="movie" value="http://www.youtube.com/v/KBK3YLvwbwg?version=3&f=user_uploads&c=google-webdrive-0&app=youtube_gdata" /><param name="bgcolor" value="#FFFFFF" /><embed width="320" height="266"  src="http://www.youtube.com/v/KBK3YLvwbwg?version=3&f=user_uploads&c=google-webdrive-0&app=youtube_gdata" type="application/x-shockwave-flash"></embed></object></div><br /><b>Edit</b>: I have added a video.<br /><br /><br />